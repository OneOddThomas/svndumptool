
TODO list for svndumptool
=========================

Bugs:

 * export: check that -d works.
 * check: check that copy-from revision < current revision.
 * merge: leading slash for -x doesn't work.
 * possible problems with cvs2svn created dumps and copied path's:
    - merge: mkdir exclude may fail
    - check: may output false negatives
    - diff: may output wrong diffs of node kind
 * eolfix: Remove the mode parameter and automatically set mode to
   regex when a regex is specified.
 * merge: For r0 the date of the first file is used now. I guess it
   should use the date of teh oldest r0 of all dumps.
 * check: It's not an error if the date of r0 is after the date of r1
   so it should not complain (maybe just warn).


Cleanup and possible bugs:
 * Cleanup temp files: Make sure a temp file is not deleted as long as it
   is still used (can multiple nodes have the same temp file?).
 * Cleanup sanitize: better handling of temp files.
 * Transform-[rev]prop: Use re.sub() function.
 * check: Use node.get_kind() in history code, a few places use
   nodehist[0][0] to get the kind but should be only nodehist[0].


Features:

 * Add an option for setting the date of rev 0 when merging.
 * Eolfix dryrun should check EOL's.
 * Merge: make the root renamable too.
 * Check that svn:date and __rev_date are always the same.
 * Move tests from svndumptest.py into a package and add more tests...
 * Output an error if a file exists that should be opened for writing.
 * Edit: Add some more modifications. e.g. regex filename support, propset...


Ideas:

 * New command 'filter', same as svndumpfilter.
 * Make an abstract base class for SvnDumpFile (maybe SvnDumpReader)
   and make SvnDumpMerge, SvnDumpEolFix, SvnDumpFilter and SvnDumpEdit
   subclasses of it. Those commands can then be chained, something like:
   SvnDumpFile -> SvnDumpEolFix -> copy_dump_file()
 * Streamy versions of SvnDumpFile and SvnDumpNode.

